<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
<meta charset="ISO-8859-1">
<title>PAGINA PACIENTE</title>
<script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/js/jquery.mask.min.js"></script>
<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"/>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
      		<a class="nav-link" th:href="@{/sistema/paginainicial}">Sair <span class="sr-only">(current)</span></a>	
      </li>
    </ul>
  </div>
</nav>
<div  th:each = "Paciente : ${paciente}">
	<form action = "/paciente/atualizar" method="POST">
	
		<div class="card" style="width: 18rem;">
		  	<div class="card-body">
		    	<h5 class="card-title" >Dados do Paciente</h5>
		    	Identificacao
			    <div class="form-group row">
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="id" name="id" placeholder="id" th:attr="value = ${Paciente.id}" readonly="true">
				    </div>
				</div>
				Nome
			    <div class="form-group row">
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="nome" name="nome" placeholder="Nome" th:attr="value = ${Paciente.nome}">
				    </div>
				</div>
				Endereco
			    <div class="form-group row">
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="endereco" name="endereco" placeholder="Endereco" th:attr="value = ${Paciente.endereco}">
				    </div>
				</div>
				Telefone
			    <div class="form-group row">
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="telefone" name="telefone" placeholder="Telefone" th:attr="value = ${Paciente.telefone}">
				    </div>
				</div>
				<div  th:each = "data : ${dataR}">
					Data de Nascimento
				    <div class="form-group row">
					    <div class="col-sm-10">
					      <input type="text" class="form-control" id="dataNascimento" name="dataNascimento" placeholder="Data de Nascimento" th:attr="value = ${data}">
					    </div>
					</div>
				</div>
				Tipo Sanguineo
			    <div class="form-group row">
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="tipoSanguineo" name="tipoSanguineo" placeholder="Tipo Sanguineo" th:attr="value = ${Paciente.tipoSanguineo}" readonly="true">
				    </div>
				</div>

		  </div>
		 <div class="form-group row text-center">
		    <div class="col-sm-10">
 		 				<button id="singlebutton" name="singlebutton" class="btn btn-primary" type = "submit">Atualizar</button> 
		    </div>
		</div> 
	  </div>
	</form>
	
	<br>
	<a class="btn btn-primary" th:href="@{/paciente/marcar/{idp}(idp=${Paciente.id})}">Marcar Consulta</a>
	<br>
	<br>
	<br>
	<h3>Consultas Marcadas</h3>
	<br>
	<br>
	<table class="table">
	  <thead>
	    <tr>
	      <th scope="col">Id da Consulta</th>
	      <th scope="col">Nome do medico</th>
	      <th scope="col">Especialidade do Medico</th>
	      <th scope="col">Status</th>
	      <th scope="col">Observacoes</th>
	      <th scope="col">Data</th>
	    </tr>
	  </thead>
	  
	  <tbody>
	    <tr  th:each = "Consulta : ${listaConsultasMarcadas}">
	      <td th:text="${Consulta.id}"></td>
	      <td th:text="${Consulta.medico.nome}"></td>
	      <td th:text="${Consulta.medico.especialidade}"></td>
	      <td th:text="${Consulta.statusConsulta}"></td>
	      <td th:text="${Consulta.observacoes}"></td>
	      <td th:text="${Consulta.data}"></td>
	      <td><a class="btn btn-danger" th:href="@{/paciente/cancelar/{ids}(ids=${Consulta.id+'-'+Paciente.id})}">Cancelar</a></td>
	      
	    </tr>
	  </tbody>
	</table>
	<br>
	<br>
	<h3>Consultas Realizadas</h3>
	<br>
	<br>
	<table class="table">
	  <thead>
	    <tr>
	      <th scope="col">Id da Consulta</th>
	      <th scope="col">Nome do medico</th>
	      <th scope="col">Especialidade do Medico</th>
	      <th scope="col">Status</th>
	      <th scope="col">Observacoes</th>
	      <th scope="col">Data</th>
	    </tr>
	  </thead>
	  
	  <tbody>
	    <tr  th:each = "Consulta : ${listaConsultasRealizadas}">
	      <td th:text="${Consulta.id}"></td>
	      <td th:text="${Consulta.medico.nome}"></td>
	      <td th:text="${Consulta.medico.especialidade}"></td>
	      <td th:text="${Consulta.statusConsulta}"></td>
	      <td th:text="${Consulta.observacoes}"></td>
	      <td th:text="${Consulta.data}"></td>	      
	    </tr>
	  </tbody>
	</table>
	<br>
	<br>
	<h3>Consultas Indeferidas</h3>
	<br>
	<br>
	<table class="table">
	  <thead>
	    <tr>
	      <th scope="col">Id da Consulta</th>
	      <th scope="col">Nome do medico</th>
	      <th scope="col">Especialidade do Medico</th>
	      <th scope="col">Status</th>
	      <th scope="col">Observacoes</th>
	      <th scope="col">Data</th>
	    </tr>
	  </thead>
	  
	  <tbody>
	    <tr  th:each = "Consulta : ${listaConsultasIndeferidas}">
	      <td th:text="${Consulta.id}"></td>
	      <td th:text="${Consulta.medico.nome}"></td>
	      <td th:text="${Consulta.medico.especialidade}"></td>
	      <td th:text="${Consulta.statusConsulta}"></td>
	      <td th:text="${Consulta.observacoes}"></td>
	      <td th:text="${Consulta.data}"></td>	      
	    </tr>
	  </tbody>
	</table>
	<br>
	<br>
	<h3>Paciente - Doencas</h3>
	<br>
	<br>
 	
	<table class="table">
	  <thead>
	    <tr >
	      <th scope="col">Id da Doenca</th>
	      <th scope="col">Nome</th>
	      <th scope="col">Estagio</th>
	      <th scope="col">Sintomas</th>
	      <th scope="col">Observacoes</th>
	    </tr>
	  </thead>
	  
	  <tbody>
	    <tr th:each = "Doenca : ${listaDoencas}">
	      <td th:text="${Doenca.id}"></td>
	      <td th:text="${Doenca.nome}"></td>
	      <td th:text="${Doenca.estagio}"></td>
	      <td th:text="${Doenca.sintomas}"></td>
	      <td th:text="${Doenca.observacoes}"></td>
	    </tr>
	  </tbody>
	</table>
	<br>
	<br>
	<h3>Historico do Paciente</h3>
	 	
 	<br>
	<br>
	<div class="col-md-4 text-center"> 
	    <table th:object="${Paciente.historicoPaciente}" id="userTable" border="3">
	      <thead>
		    <tr >
		      <th scope="col">Historico</th>
		    </tr>
		  </thead>
		  <tbody>
		    <tr th:each="itemHistorico :${Paciente.historicoPaciente}">
		        <td  th:text="${itemHistorico}"></td>
		    </tr>
		   </tbody>
		</table>
    </div>
    <br>
    <br>
    
    <h3>Lista de Observacoes do Paciente</h3>
 	
	<br>
	<br>
    <div class="col-md-4 text-center"> 
	    <table th:object="${Paciente.observacoes}" id="userTable" border="3">
	      <thead>
		    <tr >
		      <th scope="col">Observacao</th>
		    </tr>
		  </thead>
		  <tbody>
		    <tr th:each="observacaop :${Paciente.observacoes}">
		        <td  th:text="${observacaop}"></td>
		    </tr>
		   </tbody>
		</table>
    </div>
    <br>
    <br>
    
</div>
<script type="text/javascript">
    $("#dataNascimento").mask("00/00/0000");
    $("#telefone").mask("(00) 00000-0000");
 </script>	
</body>
</html>